{"version":3,"sources":["webpack:///./apiService.js","webpack:///./refs.js","webpack:///./index.js","webpack:///./photo-card.hbs"],"names":["page","query","key","incrementPage","this","fetchImages","requestParams","fetch","then","response","json","parsedResponse","string","refs","searchForm","document","querySelector","imagesList","loadMoreBtn","photoCardImage","debounce","require","buildPhotoCardMarkup","items","photoCardTemplate","insertPhotoCards","insertAdjacentHTML","clearListItems","innerHTML","addEventListener","event","preventDefault","inputValue","target","value","toLowerCase","searchService","searchQuery","data","length","catch","err","console","log","code","scrollingPoint","offsetHeight","setTimeout","window","scrollTo","top","left","behavior","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"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","file":"main.f35ba83fb1625dd56b90.js","sourcesContent":["const baseUrl = 'https://pixabay.com/api/';\n\nexport default {\n  page: 1,\n  query: '',\n  key: '14591946-ce075558d006f747f7a303eb3',\n  incrementPage() {\n    this.page += 1;\n  },\n  fetchImages() {\n    const requestParams = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=12&key=${this.key}`;\n    return fetch(baseUrl + requestParams)\n      .then(response => response.json())\n      .then(parsedResponse => {\n        this.incrementPage();\n        return parsedResponse;\n      });\n  },\n  get searchQuery() {\n    return this.query;\n  },\n  set searchQuery(string) {\n    this.query = string;\n  },\n};\n","const refs = {\n  searchForm: document.querySelector('#search-form'),\n  imagesList: document.querySelector('.gallery-js'),\n  loadMoreBtn: document.querySelector('button[data-action=\"load more\"]'),\n  photoCardImage: document.querySelector('.photo-card'),\n};\n\nexport { refs };\n","import './styles.css';\nimport searchService from './apiService';\nimport { refs } from './refs';\nimport photoCardTemplate from './photo-card.hbs';\nconst debounce = require('lodash.debounce');\nimport 'regenerator-runtime/runtime';\n\nfunction searchFormSubmitHandler(event) {\n  event.preventDefault();\n  const form = event.target;\n  const inputValue = form.value.toLowerCase();\n  searchService.searchQuery = inputValue;\n  searchService\n    .fetchImages()\n    .then(data => {\n      if (inputValue.length === 0) {\n        clearListItems();\n      } else {\n        clearListItems();\n        const markup = buildPhotoCardMarkup(data);\n        insertPhotoCards(markup);\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction loadMoreBtnHandler(event) {\n  event.preventDefault();\n  const galleryHeight = refs.imagesList.offsetHeight;\n  const formHeight = refs.searchForm.offsetHeight;\n  const scrollingPoint = galleryHeight + formHeight;\n  searchService\n    .fetchImages()\n    .then(data => {\n      const markup = buildPhotoCardMarkup(data);\n      insertPhotoCards(markup);\n    })\n    .then(\n      setTimeout(() => {\n        window.scrollTo({\n          top: scrollingPoint,\n          left: 0,\n          behavior: 'smooth',\n        });\n      }, 100),\n    );\n}\n\nfunction buildPhotoCardMarkup(items) {\n  return photoCardTemplate(items);\n}\n\nfunction insertPhotoCards(items) {\n  refs.imagesList.insertAdjacentHTML('beforeend', items);\n}\n\nfunction clearListItems() {\n  refs.imagesList.innerHTML = '';\n}\n\nrefs.searchForm.addEventListener(\n  'input',\n  debounce(searchFormSubmitHandler, 500),\n);\n\nrefs.searchForm.addEventListener('keydown', event => {\n  if (event.code === 'Enter' || event.code === 'NumpadEnter') {\n    event.preventDefault();\n  }\n});\n\nrefs.loadMoreBtn.addEventListener('click', loadMoreBtnHandler);\n","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"gallery-item\\\">\\n    <div class=\\\"photo-card\\\">\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"\\\" alt=\\\"There was a picure\\\"/>\\n\\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":9,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":13,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":16},\"end\":{\"line\":17,\"column\":28}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":16},\"end\":{\"line\":21,\"column\":29}}}) : helper)))\n    + \"\\n            </p>\\n        </div>\\n    </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"hits\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}